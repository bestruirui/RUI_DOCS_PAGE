import{u as Q,a as x,M as U,b as B,d as J,e as X,f as R,L as Z,g as W}from"./app-5e5d86b1.js";import{r as g,h as N,c as $,y as _,U as ee,Y as te,o as ae,z as se,j as e,Z as M,w as le}from"./framework-e618a78f.js";const oe="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";const C=()=>e(R,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));C.displayName="CloseIcon";const G=()=>e(R,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));G.displayName="HeadingIcon";const D=()=>e(R,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));D.displayName="HeartIcon";const E=()=>e(R,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));E.displayName="HistoryIcon";const q=()=>e(R,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));q.displayName="TitleIcon";const ce={},re=300,V=5,ne={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ue="search-pro-history-results",y=Q(ue,[]),ie=()=>({history:y,addHistory:a=>{y.value.length<V?y.value=[a,...y.value]:y.value=[a,...y.value.slice(0,V-1)]},removeHistory:a=>{y.value=[...y.value.slice(0,a),...y.value.slice(a+1)]}}),he=g(oe),pe=N(()=>JSON.parse(Z(he.value))),L=(a,h)=>{const p=a.toLowerCase(),s=h.toLowerCase(),c=[];let l=0,i=0;const v=(t,d=!1)=>{let o="";i===0?o=t.length>20?`… ${t.slice(-20)}`:t:d?o=t.length+i>100?`${t.slice(0,100-i)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),i+=o.length,d||(c.push(["strong",h]),i+=h.length,i>=100&&c.push(" …"))};let S=p.indexOf(s,l);if(S===-1)return null;for(;S>=0;){const t=S+s.length;if(v(a.slice(l,S)),l=t,i>100)break;S=p.indexOf(s,l)}return i<100&&v(a.slice(l),!0),c},k=a=>a.reduce((h,{type:p})=>h+(p==="title"?50:p==="heading"?20:p==="custom"?10:1),0),ve=(a,h)=>{var p;const s={};for(const[c,l]of Object.entries(h)){const i=((p=h[c.replace(/\/[^\\]*$/,"")])==null?void 0:p.title)||"",v=`${i?`${i} > `:""}${l.title}`,S=L(l.title,a);S&&(s[v]=[...s[v]||[],{type:"title",path:c,display:S}]),l.customFields&&Object.entries(l.customFields).forEach(([t,d])=>{d.forEach(o=>{const r=L(o,a);r&&(s[v]=[...s[v]||[],{type:"custom",path:c,index:t,display:r}])})});for(const t of l.contents){const d=L(t.header,a);d&&(s[v]=[...s[v]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:d}]);for(const o of t.contents){const r=L(o,a);r&&(s[v]=[...s[v]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:r}])}}}return Object.keys(s).sort((c,l)=>k(s[c])-k(s[l])).map(c=>({title:c,contents:s[c]}))},de=a=>{const h=x(),p=g([]),s=N(()=>pe.value[h.value]),c=W(l=>{p.value=l?ve(l,s.value):[]},re);return le([a,h],()=>{c(a.value)}),p};var ye=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:h}){const p=_(),s=ee(),c=x(),l=U(ne),{history:i,addHistory:v,removeHistory:S}=ie(),t=te(a,"query"),d=de(t),o=g(0),r=g(0),z=g(),O=N(()=>d.value.length>0),I=N(()=>d.value[o.value]||null),b=()=>{o.value=o.value>0?o.value-1:d.value.length-1,r.value=I.value.contents.length-1},K=()=>{o.value=o.value<d.value.length-1?o.value+1:0,r.value=0},A=()=>{r.value<I.value.contents.length-1?r.value=r.value+1:K()},w=()=>{r.value>0?r.value=r.value-1:b()},F=n=>n.map(u=>typeof u=="string"?u:e(u[0],u[1])),Y=n=>{if(n.type==="custom"){const u=ce[n.index]||"$content",[f,P=""]=typeof u=="object"?u[c.value].split("$content"):u.split("$content");return F([f,...n.display,P])}return F(n.display)},j=()=>{o.value=0,r.value=0,h("updateQuery",""),h("close")};return ae(()=>{B("keydown",n=>{if(O.value){if(n.key==="ArrowUp")w();else if(n.key==="ArrowDown")A();else if(n.key==="Enter"){const u=I.value.contents[r.value];s.path!==u.path&&(v(u),p.push(u.path),j())}}}),J(z.value,{reserveScrollBarGap:!0})}),se(()=>{X()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!O.value}],ref:z},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),i.value.map((n,u)=>e(M,{to:n.path,class:["search-pro-result-item",{active:r.value===u}],onClick:()=>{console.log("click"),j()}},()=>[e(E,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[n.type==="content"&&n.header?e("div",{class:"content-header"},n.header):null,e("div",Y(n))]),e("button",{class:"search-pro-close-icon",onClick:f=>{f.preventDefault(),f.stopPropagation(),S(u)}},e(C))]))])):l.value.emptyHistory:O.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:n,contents:u},f)=>{const P=o.value===f;return e("li",{class:["search-pro-result-list-item",{active:P}]},[e("div",{class:"search-pro-result-title"},n||"Documentation"),u.map((m,T)=>{const H=P&&r.value===T;return e(M,{to:m.path,class:["search-pro-result-item",{active:H,"aria-selected":H}],onClick:()=>{v(m),j()}},()=>[m.type==="content"?null:e(m.type==="title"?q:m.type==="heading"?G:D,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",Y(m))])])})])})):l.value.emptyResult)}});export{ye as default};
