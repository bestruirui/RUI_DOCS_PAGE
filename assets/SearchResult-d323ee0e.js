import{u as B,a as R,M as T,b as Q,d as G,e as D,f,L as X,g as Y}from"./app-64742c09.js";import{r as k,h as E,c as $,y as _,U as ee,Y as te,o as se,z as le,j as e,Z as w,w as ae}from"./framework-e618a78f.js";const oe="eJy1W3tvG0eS/yoD/XMJ1tTLCfZg7AZwpNir3fixke0s7nwIKGokcUORCh9ynEUASjIl6klK1vthSbZeji1RsmRL4kMC7qPcsWeGf/kr3K+6hsPhkHScAAfkoemurq6urq6u+nXxX3UNddfwnw612+uv7wn3+ugz7A371LprdfrKgcjN1V2p8wT8YdUfDtVd+89/1fWo7k41iG50hHyRbvwl9nfy5xvlhP/185WqtMHej6Pzef2RHz+OtDPg+R5NH0X7SO34OEJxdqbP7hm5VD7z7iNHxN7lM/MfR6vPrmsnGSctqOsaQj5vpxqq2AxxntEHUvroSMUEdQ1fq+6g/zdsIg/ydqm/b+Pr6+tLK6m6Bhboel+fz+txh70BvzQzayk1VWubxEH0q7tSp9y+2Xb7HwpalW/bbrfe+bZdqSsTp1WaSZkk3FRTBqv7A4ZmEmmLqfxZNH/2i8hGtdkLLZ3MZ17oGwP68hNuEefHInHIkr/PTmAV+fQUukRiWqRn8fm/0YF8eiufWbQ+jcuksTlR/BzkiURswDggJWjxU3E4LNbT+mbUOLjQ5nP5s32aTtKLyTl9/LWID4vRN2Ikra1tY1KRe67Fk9rKiThMgLLwfEF/M4P2fGbKiE5oiWTh1SLLwHISTXRdpHdKsx+ci6W9/NmUsbSsja9rq2n9KJPPZolJbjifnjCiMbG6J6bW9eRw/mwsfzYpkhMYzgOhJcisPZ3M51b144yeWRdHg8xKTMyDicVWxJdAbHXpm69Zb2JlQ9vfMrlhIbFTbXU0f3GpJdNadBdKwxK0ubhYPRTxl6Sl1UkxtgliyKCUhm0tY228B8bmnr6VVqwV8zZqGyNiZBgzQ5EiNoTR+uwR7ZhkATKLwCbUkEiAyba2sGHslu3M+2y8zd8VdIfCwYgnHAmq77OjtFWnByI7CAaFoT0990bED/OZTD43Z1rS6qE2f066S+yILZqH9yB/vp4/S5trSSTzFyu0omxayr6sz03Qti3P6jsZEcuCDBxwEOx+yDrfRW9U5bzXKXzWxHQun9mSx8pskBNXP1sY3+XtrvRdNk41D5tp7UUiUzRHa03XeufuvbY7t9uN1Im2OFUaHugj7xOymu0LdHUq1xSRnKJjKWdBv8sbRiOdgfSMtrcpsolSV59ytbGx8Rr9BzTaxIg4WNZfpUTihba4IQ6f0Bk4y8B2PxEHl/jrU+68ZpqM/CA+Lr+7V1U6VDIGL4kg+0VyUuwvyP5Of0hpamqqp3/qm6y5Wm+3W9bMfNTwnx/WdQS9nd3qwzqLzjJRPTetZ1ZxQMWzcRrQrzSwB7vW4O7rA72emaY1yN2vlF42F6UvWohLVe79x5+vh7zuhvYet7+7x01L0KdS4jmsf7EwknifXdYW3omJtJQxiGW6g+E/u32P3I9DIC2MwCOk9P15fW4bFI5Pf0ApwPscbIko+RQ+myxCIRolR7ZAXoCXAedijPwixvaYCZOBiTmXY5gWzcCjMCmIAn5Xl9vrw1lUjPFtS2dMro+BfKCw9qyRTnd8ieerOlnE71NDIVcoHOjrUzs/NKnpIyF0dMhYmi461Lg2tmVcruh748R2bI+Ud3gkTt/omYQYWNX2n5On4OnKbZ7pnSfG0VrzxGjPnoiMqdvSaEer/bzA12Az0Mi8tdUoDg9kU+oVWtRQTl8doF10CBlfAUM2RZuQ5a01hex1e/p9br9zuLO5VgRiuqVIKOL21fJKVZZqE+BuIBh2e/32KKDP1lQZCOAKIOePK+tgE3fgJ9rRKH2Mxj91KOZ60Otudt0NBkqc3bKpTzaVaR7+fTsHYUnbcpzCkxXNbW5VDCUc/AtrM4WLpcLac23tsjSFo9U+C1wBbA83EFyMSVCNYzgQ8Dn5mW1l3KQzoPspvSVOt3FRO9fv84bCtrWbn3YetL8ri+x7RHyBvAFOSdq5Uk+gU3WF1GC/fZfKG+1ckQJgO/pDROG8GGcRlsyLyyHtiU1njtaynUk+K8wcYVucjHLToM+np21cbE0fw+JBc9D92F0a31/8LtPy2Q7iH6wo4gUHOYTtjhVF3gshSW4VAUMhmsAdSFLEjh1TBT2+gF+15WjFb4faMMlo3DG2E7eVq9tmxKUG+2hqdRpA582IO9hpM4HObrOhbIlTGXF+KabHHMNbAz/9hHNsC87N77JpbVGrtrAtLhe09W19dbyqRXYHXJ4fesLhvhJTe5Od79//TjEqIuF0ujwQ+prS1rIcQ7bU9C/a1K6Iv0MIoi9lYOXGxVNcHGI4BpFtTvmDRDWd58eFeYE+1f8oGJYR3nVfHxyb/PPug6/k/9t7VJ/PEe19c6tshd/cqrm8bwIdgVsIe+0nM4i23mJb2UlANjH7RmztirM4IubSWETLuEURgKNPnx/G5aHNH4Ki9a9tZiCN62R3HJuhHf2iZWaRUxlvT8X5O230Uow9Q1ZAY2NHcFZi5TnSJLF1gEYR2xMrOYAXxsAsPrXTI7F6LM4Gic/htDZ7KdKr6BLJOOIh8KGJzk+QDll7r796po1Fjbcr+fS4DKDSJk+sYX+HkvwiJVpApi0s5M/Gic/KCrdgYP58HAE/HdXzd/mzWcqRYnt6cqiwM09ZwOETMZIRqXNtbAGhHMYaOWQNCYuzlpoFH0oTYu+QejU3Nn0OKY3UM0yfz45BLxROjOwLZHKxd4XnG8bOcD67gdyLsphyLsg3wJqyqNURbSZLcl8O0ZS40ZKvxTBSSSgCkw1ol1F9KI60TFtdoFBTKqLwYkrbyCL5w37oG7P6S5mxJc9EFu77UJuD/V5oo1GkaPr+aGHpubaxKdPcaTE5JA7eUeo2f6jvToNVPjuAZAbJlEiMYSD+yJ+NGHBtmEsS6PEj3IlIN2kV2Ln0DvyadkwxUrmlUgrQ6/1Jrbj/OUHPZxdxP9c04Pz5YmFpSzu2HSN7k91887lJzmxF4pfCKjI4mUdOjCBWEtNIRNfFJCAARI4TSMIVcQrMbFEkjsHrT3/6RCSnqSU3qe9mPlUKM3HsOKXTlys4+RQJ515rk5S9W40Ivj652owRn/JY4+IcYxH6+dGmEMSwciZyTynDvVwiSeZOSJHni9BlM5Tm115vYr/fZ1e++EJOnzj+/dMnjktzX6k6MZZZPvEVbf8FtQNyyE0am9uNVxRHSxNkK9/Ob7/6sszz4LsmHEa0ai9C/IqNLwweINVHelcRA1XF6hzbXHiO40C3YA2k60YkhP9dv3u3ofmqq/EzV+PnlZHnVAbq4CRD20iQzzhK/HZJgHNoz1ZxuslllLOkc5cdBN4j4osaXOFRQkxuaJlN+uN87mOEt8trtdaU0U5hCtslm5BoVgZ1hc23MCiirinIt15/Z+BRqOGGz/tDW6BSg3Id+cs1JE9mTPib1QdPbORyhacX2hQlLb8iSJnZcVtN07OP9wNgLQ8IJE5ZU9xirymzHO6MiLKD2v62tjmsPSPAihVqQQN0D52vMxJFCBf5I6Sf0+TuksPkb0/WsW7gkcamSW+2rI1Qy8zEX+7du6tnn4r9RYaOPrgyT6C31+3v/H2Yj/YiinisEJvUcwfaPDylDeqt2vcxUHNRLn9X5cmvyc2esdrUpa0n4cEs7KaYvdamqBmMkVLbSywopqwwoIo4kuOxMuvhpprCW91WWlVJbhIpcg6FnMfKiZ6ZU3ojIZ/i83Z4FBiB0hEJPe4IoF8iArAzGAM59NyluFggrPMiDhgZuDFiFiAl2G9jbBAQgPH2CdBvO1yMy9DYwXU+abyLGZcjyr8rt74shTuAEQ4T4mDUeBFDkKC/GEDKxyMo2kvvKE1XGzFAoahpf1EM7ukv04WFkwrTZI0hbC1TF75r5/bBwI+9WKEkKSb33Obqd+qsRIzAsxBdJvs+iOq7hwj6MAnOlUmBiBSLK3sPSCdlqGUe0BKoLVEzKTdFrJsTyK6wrNJMgJBxi7aqHV63X6JHl3SkZOP9jog/HJHI0DLdxsMxbeOMlDoRE8lXrE52jBT9socoZhHYXT6XhKzKRMjaDZi1/vp1/myUIkHZxQhzPj38zVft9/574/rdtpJ82mxKm8DGbiEwtVaF2ExbBdi1zIJayNrX/2jBxAzka2M54wiXEWJWmzqWn/ztwa1amyphxMoYjlUyOkng9+WBNutIiD7qGj3e057Q/aHFp8mdyl3562dNzZ9DLZj6j/XNrqsEe+FdA+81iKdHJxEe8fsFgiFokbY6vaKtvqZ3h4l5UxIH3ob4KZ20+bfid5lrPxxmvoyCktmkk6CEkWlnMTE5RUPK+br7wvx2Ucbd0eqYo0ENe4ABhxtCgUjQg9dGAl84odRWLnk+xzRQRJVp+vrV3zpNfWcDRrlApgb7gt6QKltrTev70VNlWkdr2W6O7soNGQeEBXclEtscglfAkhuIlxRfwOP2uXz9vQo9lUnM2kIoicBlEbgsgrJgcOBS4E6RHkl7+4txgngab2DkE2UGjRwOJw8PYdriBcBTMi9JK0Zf5nNLkIx2eDHFcpgykPeY2jMmk0iGcIolHwBzbGl4T8INxtaI5RVGJqBnS0gW+qFff0LxuZ6dNy6mZSdzvsJbjENXiI7WOmgR6VkqTho3YxliclNfOYEH/P86aeUbxWfpy7Y7tsuT2zq8AccNis1/iiP64J6rVaGjmky1tN9S8C+WW9g85/dR/AEgpDCUQyPszad2uz2Pqxh7UdE2Sy821bzkTexdOuO2O7du3WcPWQHOSwIvIqeIRVAWmcr1KfL4dKpd7ogv3NAdjHTwAm5+c//L71putX7ddvur7/Cf+//4rvWrG9fvf30Py4HfdVr62AaCO/a7vHGUnyFXxvPWGj04FUX7NbpKCaWAvYHOCJ5AyGpPkQJuyFR93EKnyilxvXaopgfo8Lk930uPQLFa9fEOF7pygjPBQVz+clMboIecojut1lfFMTB3DksdcJl8DcPGkJHHD/u7vAGnjj5EUjaXBBmZjjEM8eKQDs7yk7ZWbJGibZxrkwdtrawd9lZ0mVeTi99KrJdx5yOKvaOmYfI81QPtqn01Nhv71uAHbh5C5Yh8v2z4Qe2NmDh7Q1Njo9xLuCT8KReWfnBLaWtV+MDb5+D3RkR5hOxRyBGlaAQBAv4GxoAn1yr+ycQqyyI8s62mNyr1W2/CVQbU3UHrt8EwvdbRW7+szng7IWLb9AZ8cCG2yFVzSFcRsYEVnZXUOUFfU4NiJY0F4hYw9gjWMzkj/i0FhZP0xk8429oSEnYJCNIYvjxAZkVdJn0ixYeDbz0EeTQEWNLwEl0gUqEcN1hBulkhItNAPFwCAJWvm6Pa+EuuEOHoEBrnXSneW5PiMiYSC7xkFkPMDdPYpSRjQWakKDnzRBz+QG+ASpEPIXaEOZuzEF5pyowiFI5W87kNapdTQOCHfok2mdUwgPRAiBf7kuosvXHOK8ENk5QFLqQz+tAOFUzIZAWIEylNqhTwCJ4mKWUBAjl0DIOzamSKbyQrRQFYZ9bsUCSuKzF9rK9FgdoRTCPFJ9nBcmxF2vAUHfALSEeVLnI3CENlxfASaSF3/3aTQ3POga5+3tgIEVk1UgUc8PGwryMtbfxog0cXLkZAWQd0WiPpKR6LD5ZflNxLLdiCmYUI8G9obiT0qtnVfLWCXYfX58UFoc3sM9ykr0wjtfjt0QAX6FgvLGxrkBIpBtIQs77iYssYGMNWF2ie0pzVtMCChwP+7sf4tzL3x4X264CEdNwtd+8Xnk/rU1RrV7xeZIenL2J11H5YL/LQznDUdqrwsDpq8jB2X4ipcT370lYJY2uqhRrcCffADbf4ApHOGz53UG1oiaAwobcV7y1QEQHhKr2+VOZR3IdQFhEslTkcLOfPR8X6OqpSappLxWR2hqXmmrqWJF0mSfHV1t5mN5YSMdLv0scVpc3vqef3IbgIPCKg4gLVVACQcZ61hd3CyLQ4ItenX0zhYcY4pecZ+xODLH/bJgz7APi2me6aqasN5qHTw8EzIunENFcekCgso9Kq+ry4Ah8rt9Xwo0Dw+ytKS+ttyEVXP0acDcEnsD6xj9qzJKMB9IaFACjo7YiEUTzC+6TcpvqgdnmlggO8AF+UEBZDKlxAxTb80+vv/hGIQZUjIOsESPZXSx+/rQSJPK50KjblfAhKAwW7Y2vaEohW2Vc7spbUTIdHb5EaxtuNk1ll94cPyk1vuCfSAWgh0gmiyjLY2WMjdcoPeXDetVcpUQGbMMXv2qtB5SBu1zVclXaNlLeW+UpUWF9uYn1GCgHTFOzGGD/CvQ/7oBgblo/H4dm3xhOqLoB5k9BWAZhMsyoqHWhtuIlwCdorHcpayySIxVk+MyIpCkSXoZSJW7TNF9pmnF6OkaCyw0MCjKvLDEneJvB4IgvKTgC765cZIzWNZyWsxkjtk+yyhd/IkMJqE6M3mpoJeYkN6ScbzEobG+uK+HwuclmMG4A4qPYGwqpCe/lYZpi4/y/wxyOvv6mJM7cvCstJfXeA4K+DUdzmKBj9gp68qMe8fc1ICDPYWziSJb+Ih8b9HTxbWpS485Gb65kla2XmkLUhBEwkiExJYWl/iXSg6M+vdnmh0Ct1xv4O1TTQ5k1SUCL37H2WjBbvU/rBUWE5geiDppAzis1XLAAUTo07g1QoKpXKZswBmUgMoryMw22walN6EBwo4YDSrYYVGL1UEDksjxoMe7tMzFwJdCnM5Qpk9LgjIVV5DMxGCQS73X7vT5Lo30KOQd6Q0htA/Zw7Eu4JBL1htPbDIz/q8Xp6qBPm06/6vTRbVwC86MwpnWq/6gv09VbIUK9cNyUk90d7C+euuH2hgPLIDWKswUdnl+eEU/qn6gkr3/sDj3wqCiAVCNQtl6DgOUKhFXjD9eDgcfuZS6TPF3B3Kr2PIVin1AnNBrw76IbfJglDPajAgt9U7qFDuuK+SLAvQKxCpfmL7MM9aK2qTppW6t0U6JEXJRTdUI6T7B5KKL8nTVNBPZVLZzcQG/M5o4ovRJPSG3AwCrCHjw3MU8SXtdFJtnI66bFd/DRAG5/H2aWCGQS9smjVqtkzsSIQj+IEy4lgd0zMRctjYyytS+2MsHwuRJ/1oav17l73T3jJexRCctfLb7p8lbH3p/MigR2GvfH6ze2SUvoKScy23a76aNuwfTC58GPoCDlJq5tuv5CnB2VkyBZZbsS9zvQfLmFs3RZPFb/tfooPCfwGT6+9HYAvM94Cph9HYG+6nd0ZLP2hv6JW4Mv7NxsQgni+r7gLeoChpZ/iqBdm1jlh+h3w1/KgxPEWoXodT1sDT+luz0Tz53GFygaHUME/pS290yZSHGVqE4OFmZeABV+RJdjmzp+9obLjKRx3qr7AoznQBBSCGamUQ2ddnzX/0fYmy1+1bkVooOXO7RttNxu4Oq4G3P6gXWlBL+dgoXDv1ebfoQurmLSIqqMMhoD1WJwf/qTpjLdce/jwPtCFEJfNmEktLE8WnCKdwqL10XPtYAzF0/prONAJFFziKpGueYd+RbCwgVINVBZQFgRANDXt0FBTPb+WaImZMljkuyaXo8Mu/1e9HWpnJ6y2rZVej1pQE6r+6MJTDcbis6HlD3/A/0233xLo8/oCYcfEzfXM2TKn4sTNLkdHzTjCLoXicikilSXE4nQbNk8VIHK9Mkulp+7SFKo5zoWfGrnsg1w8xGUNqJ3lSBEpLJa/c3AuolZ3mQ3EcfWbDoyg+hH4pF8IgJGvfzyEKl5Bx4bHYHnLrfa2dlfr9bvG4ZCRmjOfsNk9Lj+5e/3eX/D+befBpqQQmHCnpdW8J4vwublSR3xmUwkXORdBEkK9i+FaDSJnvcPgOaqmjDH67RajvYglGZBG2QxV7dCFPs7QzI1goFf5Ru2j8knT1ydX9ZPn8pSZ6I08dihdIeU+GxeJUzpFLIsVNsHHrUWr0MdO87mn1ihGS0xUTiKSVohhouSSA8kytIvSQaZE6IGyE9xTVGYwgxmnyc9ugPOv7FFh8AXrnNma+yEjnCQrxC4EK5anVAiKASoWnzaFlZ6fpuIwr3z37IeRTgUXerEk9gJhSdVJVC4HSVngCweF2rSRCe3NJryNVVhhIVjkc6Rnh+8iFGh4ySkPeQMSxDg9Rt0LJ9c2QVwel6OnbH6JWHBBNhuD5Mc65CceVson99s+xVjF3CVGm05T4sJZWVzulRSS7Hob6q0QEtsqXzkY8DCRy+21CMrScu7G3jBT2ANt63UgOHGqPJG2ZwGnVE94uq0tpcl3Ww/PUqFAZ3All0vGv7fgeXmDHvrJkWcTgF1JV5nTpkbK62NDDdoqSkbp9xUUgXDGJsGM/1mdeH+WAMAXO6aMXkbNnOVwvCurCswEzx5Bs6FWVp89iKgmNtbkavqs4oIsdnywKo142Afhu+YFyn3FEnAnIXXX/5PeXj7hYgR8f2qhpSaKzT+1kDcno4jmbxLTyVsPHtyit/NXqb+6+93tnqC3L2xBrDjdJbxa8gBqjQSMsdNv1Q7+g+krFRVU3Z5wCUZsqqoq6vgdwOHBMzptAGtQLSpBQYqN5qiWjwNR/u0BxQvyt0+UXmXwm7molPLnn/8PNhJlYg==";const F=()=>e(f,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));F.displayName="CloseIcon";const q=()=>e(f,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));q.displayName="HeadingIcon";const W=()=>e(f,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));W.displayName="HeartIcon";const K=()=>e(f,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));K.displayName="HistoryIcon";const j=()=>e(f,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));j.displayName="TitleIcon";const ce={},ne=300,A=5,re={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ie="search-pro-history-results",g=B(ie,[]),ue=()=>({history:g,addHistory:s=>{g.value.length<A?g.value=[s,...g.value]:g.value=[s,...g.value.slice(0,A-1)]},removeHistory:s=>{g.value=[...g.value.slice(0,s),...g.value.slice(s+1)]}}),de=k(oe),he=E(()=>JSON.parse(X(de.value))),x=(s,d)=>{const h=s.toLowerCase(),l=d.toLowerCase(),c=[];let a=0,u=0;const p=(t,v=!1)=>{let o="";u===0?o=t.length>20?`… ${t.slice(-20)}`:t:v?o=t.length+u>100?`${t.slice(0,100-u)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),u+=o.length,v||(c.push(["strong",d]),u+=d.length,u>=100&&c.push(" …"))};let y=h.indexOf(l,a);if(y===-1)return null;for(;y>=0;){const t=y+l.length;if(p(s.slice(a,y)),a=t,u>100)break;y=h.indexOf(l,a)}return u<100&&p(s.slice(a),!0),c},N=s=>s.reduce((d,{type:h})=>d+(h==="title"?50:h==="heading"?20:h==="custom"?10:1),0),pe=(s,d)=>{var h;const l={};for(const[c,a]of Object.entries(d)){const u=((h=d[c.replace(/\/[^\\]*$/,"")])==null?void 0:h.title)||"",p=`${u?`${u} > `:""}${a.title}`,y=x(a.title,s);y&&(l[p]=[...l[p]||[],{type:"title",path:c,display:y}]),a.customFields&&Object.entries(a.customFields).forEach(([t,v])=>{v.forEach(o=>{const n=x(o,s);n&&(l[p]=[...l[p]||[],{type:"custom",path:c,index:t,display:n}])})});for(const t of a.contents){const v=x(t.header,s);v&&(l[p]=[...l[p]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:v}]);for(const o of t.contents){const n=x(o,s);n&&(l[p]=[...l[p]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:n}])}}}return Object.keys(l).sort((c,a)=>N(l[c])-N(l[a])).map(c=>({title:c,contents:l[c]}))},ve=s=>{const d=R(),h=k([]),l=E(()=>he.value[d.value]),c=Y(a=>{h.value=a?pe(a,l.value):[]},ne);return ae([s,d],()=>{c(s.value)}),h};var ge=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:s=>!0},setup(s,{emit:d}){const h=_(),l=ee(),c=R(),a=T(re),{history:u,addHistory:p,removeHistory:y}=ue(),t=te(s,"query"),v=ve(t),o=k(0),n=k(0),z=k(),L=E(()=>v.value.length>0),S=E(()=>v.value[o.value]||null),P=()=>{o.value=o.value>0?o.value-1:v.value.length-1,n.value=S.value.contents.length-1},J=()=>{o.value=o.value<v.value.length-1?o.value+1:0,n.value=0},O=()=>{n.value<S.value.contents.length-1?n.value=n.value+1:J()},V=()=>{n.value>0?n.value=n.value-1:P()},U=r=>r.map(i=>typeof i=="string"?i:e(i[0],i[1])),I=r=>{if(r.type==="custom"){const i=ce[r.index]||"$content",[b,H=""]=typeof i=="object"?i[c.value].split("$content"):i.split("$content");return U([b,...r.display,H])}return U(r.display)},C=()=>{o.value=0,n.value=0,d("updateQuery",""),d("close")};return se(()=>{Q("keydown",r=>{if(L.value){if(r.key==="ArrowUp")V();else if(r.key==="ArrowDown")O();else if(r.key==="Enter"){const i=S.value.contents[n.value];l.path!==i.path&&(p(i),h.push(i.path),C())}}}),G(z.value,{reserveScrollBarGap:!0})}),le(()=>{D()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?u.value.length===0:!L.value}],ref:z},t.value===""?u.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},a.value.history),u.value.map((r,i)=>e(w,{to:r.path,class:["search-pro-result-item",{active:n.value===i}],onClick:()=>{console.log("click"),C()}},()=>[e(K,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[r.type==="content"&&r.header?e("div",{class:"content-header"},r.header):null,e("div",I(r))]),e("button",{class:"search-pro-close-icon",onClick:b=>{b.preventDefault(),b.stopPropagation(),y(i)}},e(F))]))])):a.value.emptyHistory:L.value?e("ul",{class:"search-pro-result-list"},v.value.map(({title:r,contents:i},b)=>{const H=o.value===b;return e("li",{class:["search-pro-result-list-item",{active:H}]},[e("div",{class:"search-pro-result-title"},r||"Documentation"),i.map((m,Z)=>{const M=H&&n.value===Z;return e(w,{to:m.path,class:["search-pro-result-item",{active:M,"aria-selected":M}],onClick:()=>{p(m),C()}},()=>[m.type==="content"?null:e(m.type==="title"?j:m.type==="heading"?q:W,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",I(m))])])})])})):a.value.emptyResult)}});export{ge as default};
