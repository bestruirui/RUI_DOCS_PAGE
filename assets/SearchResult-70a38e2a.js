import{u as S,a as x,M as b,b as O,d as C,e as W,f as H,L as Y,g as k}from"./app-4a4f6f9c.js";import{r as R,h as N,c as $,y as _,U as ee,Y as te,o as se,z as ae,j as e,Z as F,w as le}from"./framework-e618a78f.js";const oe="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";const P=()=>e(H,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));P.displayName="CloseIcon";const D=()=>e(H,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));D.displayName="HeadingIcon";const J=()=>e(H,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));J.displayName="HeartIcon";const q=()=>e(H,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));q.displayName="HistoryIcon";const B=()=>e(H,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));B.displayName="TitleIcon";const ce={},ue=300,X=5,re={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ie="search-pro-history-results",L=S(ie,[]),ne=()=>({history:L,addHistory:s=>{L.value.length<X?L.value=[s,...L.value]:L.value=[s,...L.value.slice(0,X-1)]},removeHistory:s=>{L.value=[...L.value.slice(0,s),...L.value.slice(s+1)]}}),ve=R(oe),he=N(()=>JSON.parse(Y(ve.value))),I=(s,v)=>{const h=s.toLowerCase(),a=v.toLowerCase(),c=[];let l=0,n=0;const d=(t,y=!1)=>{let o="";n===0?o=t.length>20?`… ${t.slice(-20)}`:t:y?o=t.length+n>100?`${t.slice(0,100-n)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),n+=o.length,y||(c.push(["strong",v]),n+=v.length,n>=100&&c.push(" …"))};let p=h.indexOf(a,l);if(p===-1)return null;for(;p>=0;){const t=p+a.length;if(d(s.slice(l,p)),l=t,n>100)break;p=h.indexOf(a,l)}return n<100&&d(s.slice(l),!0),c},j=s=>s.reduce((v,{type:h})=>v+(h==="title"?50:h==="heading"?20:h==="custom"?10:1),0),de=(s,v)=>{var h;const a={};for(const[c,l]of Object.entries(v)){const n=((h=v[c.replace(/\/[^\\]*$/,"")])==null?void 0:h.title)||"",d=`${n?`${n} > `:""}${l.title}`,p=I(l.title,s);p&&(a[d]=[...a[d]||[],{type:"title",path:c,display:p}]),l.customFields&&Object.entries(l.customFields).forEach(([t,y])=>{y.forEach(o=>{const u=I(o,s);u&&(a[d]=[...a[d]||[],{type:"custom",path:c,index:t,display:u}])})});for(const t of l.contents){const y=I(t.header,s);y&&(a[d]=[...a[d]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:y}]);for(const o of t.contents){const u=I(o,s);u&&(a[d]=[...a[d]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:u}])}}}return Object.keys(a).sort((c,l)=>j(a[c])-j(a[l])).map(c=>({title:c,contents:a[c]}))},ye=s=>{const v=x(),h=R([]),a=N(()=>he.value[v.value]),c=k(l=>{h.value=l?de(l,a.value):[]},ue);return le([s,v],()=>{c(s.value)}),h};var Le=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:s=>!0},setup(s,{emit:v}){const h=_(),a=ee(),c=x(),l=b(re),{history:n,addHistory:d,removeHistory:p}=ne(),t=te(s,"query"),y=ye(t),o=R(0),u=R(0),A=R(),Z=N(()=>y.value.length>0),z=N(()=>y.value[o.value]||null),M=()=>{o.value=o.value>0?o.value-1:y.value.length-1,u.value=z.value.contents.length-1},Q=()=>{o.value=o.value<y.value.length-1?o.value+1:0,u.value=0},T=()=>{u.value<z.value.contents.length-1?u.value=u.value+1:Q()},U=()=>{u.value>0?u.value=u.value-1:M()},E=r=>r.map(i=>typeof i=="string"?i:e(i[0],i[1])),K=r=>{if(r.type==="custom"){const i=ce[r.index]||"$content",[m,g=""]=typeof i=="object"?i[c.value].split("$content"):i.split("$content");return E([m,...r.display,g])}return E(r.display)},V=()=>{o.value=0,u.value=0,v("updateQuery",""),v("close")};return se(()=>{O("keydown",r=>{if(Z.value){if(r.key==="ArrowUp")U();else if(r.key==="ArrowDown")T();else if(r.key==="Enter"){const i=z.value.contents[u.value];a.path!==i.path&&(d(i),h.push(i.path),V())}}}),C(A.value,{reserveScrollBarGap:!0})}),ae(()=>{W()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?n.value.length===0:!Z.value}],ref:A},t.value===""?n.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),n.value.map((r,i)=>e(F,{to:r.path,class:["search-pro-result-item",{active:u.value===i}],onClick:()=>{console.log("click"),V()}},()=>[e(q,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[r.type==="content"&&r.header?e("div",{class:"content-header"},r.header):null,e("div",K(r))]),e("button",{class:"search-pro-close-icon",onClick:m=>{m.preventDefault(),m.stopPropagation(),p(i)}},e(P))]))])):l.value.emptyHistory:Z.value?e("ul",{class:"search-pro-result-list"},y.value.map(({title:r,contents:i},m)=>{const g=o.value===m;return e("li",{class:["search-pro-result-list-item",{active:g}]},[e("div",{class:"search-pro-result-title"},r||"Documentation"),i.map((f,w)=>{const G=g&&u.value===w;return e(F,{to:f.path,class:["search-pro-result-item",{active:G,"aria-selected":G}],onClick:()=>{d(f),V()}},()=>[f.type==="content"?null:e(f.type==="title"?B:f.type==="heading"?D:J,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[f.type==="content"&&f.header?e("div",{class:"content-header"},f.header):null,e("div",K(f))])])})])})):l.value.emptyResult)}});export{Le as default};
