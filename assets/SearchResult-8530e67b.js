import{u as Y,a as L,M as q,b as O,d as B,e as D,f as J,L as E,g as Z}from"./app-5a96c2ce.js";import{r as I,h as A,c as $,y as _,U as ee,Y as te,o as ae,z as le,j as e,Z as W,w as se}from"./framework-e618a78f.js";const ce="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";const T=()=>e(J,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));T.displayName="CloseIcon";const H=()=>e(J,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));H.displayName="HeadingIcon";const V=()=>e(J,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));V.displayName="HeartIcon";const R=()=>e(J,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));R.displayName="HistoryIcon";const M=()=>e(J,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));M.displayName="TitleIcon";const oe={},re=300,x=5,ne={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ue="search-pro-history-results",f=Y(ue,[]),ie=()=>({history:f,addHistory:a=>{f.value.length<x?f.value=[a,...f.value]:f.value=[a,...f.value.slice(0,x-1)]},removeHistory:a=>{f.value=[...f.value.slice(0,a),...f.value.slice(a+1)]}}),ve=I(ce),he=A(()=>JSON.parse(E(ve.value))),S=(a,v)=>{const h=a.toLowerCase(),l=v.toLowerCase(),o=[];let s=0,i=0;const p=(t,d=!1)=>{let c="";i===0?c=t.length>20?`… ${t.slice(-20)}`:t:d?c=t.length+i>100?`${t.slice(0,100-i)}… `:t:c=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,c&&o.push(c),i+=c.length,d||(o.push(["strong",v]),i+=v.length,i>=100&&o.push(" …"))};let y=h.indexOf(l,s);if(y===-1)return null;for(;y>=0;){const t=y+l.length;if(p(a.slice(s,y)),s=t,i>100)break;y=h.indexOf(l,s)}return i<100&&p(a.slice(s),!0),o},F=a=>a.reduce((v,{type:h})=>v+(h==="title"?50:h==="heading"?20:h==="custom"?10:1),0),pe=(a,v)=>{var h;const l={};for(const[o,s]of Object.entries(v)){const i=((h=v[o.replace(/\/[^\\]*$/,"")])==null?void 0:h.title)||"",p=`${i?`${i} > `:""}${s.title}`,y=S(s.title,a);y&&(l[p]=[...l[p]||[],{type:"title",path:o,display:y}]),s.customFields&&Object.entries(s.customFields).forEach(([t,d])=>{d.forEach(c=>{const r=S(c,a);r&&(l[p]=[...l[p]||[],{type:"custom",path:o,index:t,display:r}])})});for(const t of s.contents){const d=S(t.header,a);d&&(l[p]=[...l[p]||[],{type:"heading",path:o+(t.slug?`#${t.slug}`:""),display:d}]);for(const c of t.contents){const r=S(c,a);r&&(l[p]=[...l[p]||[],{type:"content",header:t.header,path:o+(t.slug?`#${t.slug}`:""),display:r}])}}}return Object.keys(l).sort((o,s)=>F(l[o])-F(l[s])).map(o=>({title:o,contents:l[o]}))},de=a=>{const v=L(),h=I([]),l=A(()=>he.value[v.value]),o=Z(s=>{h.value=s?pe(s,l.value):[]},re);return se([a,v],()=>{o(a.value)}),h};var fe=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:v}){const h=_(),l=ee(),o=L(),s=q(ne),{history:i,addHistory:p,removeHistory:y}=ie(),t=te(a,"query"),d=de(t),c=I(0),r=I(0),w=I(),U=A(()=>d.value.length>0),K=A(()=>d.value[c.value]||null),j=()=>{c.value=c.value>0?c.value-1:d.value.length-1,r.value=K.value.contents.length-1},z=()=>{c.value=c.value<d.value.length-1?c.value+1:0,r.value=0},G=()=>{r.value<K.value.contents.length-1?r.value=r.value+1:z()},P=()=>{r.value>0?r.value=r.value-1:j()},X=n=>n.map(u=>typeof u=="string"?u:e(u[0],u[1])),C=n=>{if(n.type==="custom"){const u=oe[n.index]||"$content",[k,b=""]=typeof u=="object"?u[o.value].split("$content"):u.split("$content");return X([k,...n.display,b])}return X(n.display)},g=()=>{c.value=0,r.value=0,v("updateQuery",""),v("close")};return ae(()=>{O("keydown",n=>{if(U.value){if(n.key==="ArrowUp")P();else if(n.key==="ArrowDown")G();else if(n.key==="Enter"){const u=K.value.contents[r.value];l.path!==u.path&&(p(u),h.push(u.path),g())}}}),B(w.value,{reserveScrollBarGap:!0})}),le(()=>{D()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!U.value}],ref:w},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},s.value.history),i.value.map((n,u)=>e(W,{to:n.path,class:["search-pro-result-item",{active:r.value===u}],onClick:()=>{console.log("click"),g()}},()=>[e(R,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[n.type==="content"&&n.header?e("div",{class:"content-header"},n.header):null,e("div",C(n))]),e("button",{class:"search-pro-close-icon",onClick:k=>{k.preventDefault(),k.stopPropagation(),y(u)}},e(T))]))])):s.value.emptyHistory:U.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:n,contents:u},k)=>{const b=c.value===k;return e("li",{class:["search-pro-result-list-item",{active:b}]},[e("div",{class:"search-pro-result-title"},n||"Documentation"),u.map((m,Q)=>{const N=b&&r.value===Q;return e(W,{to:m.path,class:["search-pro-result-item",{active:N,"aria-selected":N}],onClick:()=>{p(m),g()}},()=>[m.type==="content"?null:e(m.type==="title"?M:m.type==="heading"?H:V,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",C(m))])])})])})):s.value.emptyResult)}});export{fe as default};
