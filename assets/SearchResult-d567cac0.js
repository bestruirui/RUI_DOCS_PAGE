import{u as j,a as E,M as A,b as B,d as k,e as x,f as H,L as V,g as J}from"./app-e3aa2257.js";import{r as w,h as S,c as $,y as _,U as ee,Y as te,o as ae,z as se,j as e,Z as g,w as le}from"./framework-e618a78f.js";const oe="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";const F=()=>e(H,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));F.displayName="CloseIcon";const R=()=>e(H,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));R.displayName="HeadingIcon";const G=()=>e(H,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));G.displayName="HeartIcon";const Q=()=>e(H,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));Q.displayName="HistoryIcon";const q=()=>e(H,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));q.displayName="TitleIcon";const ce={},ne=300,W=5,re={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ue="search-pro-history-results",f=j(ue,[]),ie=()=>({history:f,addHistory:a=>{f.value.length<W?f.value=[a,...f.value]:f.value=[a,...f.value.slice(0,W-1)]},removeHistory:a=>{f.value=[...f.value.slice(0,a),...f.value.slice(a+1)]}}),pe=w(oe),he=S(()=>JSON.parse(V(pe.value))),P=(a,p)=>{const h=a.toLowerCase(),s=p.toLowerCase(),c=[];let l=0,i=0;const v=(t,d=!1)=>{let o="";i===0?o=t.length>20?`… ${t.slice(-20)}`:t:d?o=t.length+i>100?`${t.slice(0,100-i)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),i+=o.length,d||(c.push(["strong",p]),i+=p.length,i>=100&&c.push(" …"))};let m=h.indexOf(s,l);if(m===-1)return null;for(;m>=0;){const t=m+s.length;if(v(a.slice(l,m)),l=t,i>100)break;m=h.indexOf(s,l)}return i<100&&v(a.slice(l),!0),c},O=a=>a.reduce((p,{type:h})=>p+(h==="title"?50:h==="heading"?20:h==="custom"?10:1),0),ve=(a,p)=>{var h;const s={};for(const[c,l]of Object.entries(p)){const i=((h=p[c.replace(/\/[^\\]*$/,"")])==null?void 0:h.title)||"",v=`${i?`${i} > `:""}${l.title}`,m=P(l.title,a);m&&(s[v]=[...s[v]||[],{type:"title",path:c,display:m}]),l.customFields&&Object.entries(l.customFields).forEach(([t,d])=>{d.forEach(o=>{const n=P(o,a);n&&(s[v]=[...s[v]||[],{type:"custom",path:c,index:t,display:n}])})});for(const t of l.contents){const d=P(t.header,a);d&&(s[v]=[...s[v]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:d}]);for(const o of t.contents){const n=P(o,a);n&&(s[v]=[...s[v]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:n}])}}}return Object.keys(s).sort((c,l)=>O(s[c])-O(s[l])).map(c=>({title:c,contents:s[c]}))},de=a=>{const p=E(),h=w([]),s=S(()=>he.value[p.value]),c=J(l=>{h.value=l?ve(l,s.value):[]},ne);return le([a,p],()=>{c(a.value)}),h};var fe=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:p}){const h=_(),s=ee(),c=E(),l=A(re),{history:i,addHistory:v,removeHistory:m}=ie(),t=te(a,"query"),d=de(t),o=w(0),n=w(0),D=w(),M=S(()=>d.value.length>0),b=S(()=>d.value[o.value]||null),K=()=>{o.value=o.value>0?o.value-1:d.value.length-1,n.value=b.value.contents.length-1},z=()=>{o.value=o.value<d.value.length-1?o.value+1:0,n.value=0},Y=()=>{n.value<b.value.contents.length-1?n.value=n.value+1:z()},N=()=>{n.value>0?n.value=n.value-1:K()},I=r=>r.map(u=>typeof u=="string"?u:e(u[0],u[1])),C=r=>{if(r.type==="custom"){const u=ce[r.index]||"$content",[X,L=""]=typeof u=="object"?u[c.value].split("$content"):u.split("$content");return I([X,...r.display,L])}return I(r.display)},U=()=>{o.value=0,n.value=0,p("updateQuery",""),p("close")};return ae(()=>{B("keydown",r=>{if(M.value){if(r.key==="ArrowUp")N();else if(r.key==="ArrowDown")Y();else if(r.key==="Enter"){const u=b.value.contents[n.value];s.path!==u.path&&(v(u),h.push(u.path),U())}}}),k(D.value,{reserveScrollBarGap:!0})}),se(()=>{x()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!M.value}],ref:D},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),i.value.map((r,u)=>e(g,{to:r.path,class:["search-pro-result-item",{active:n.value===u}],onClick:()=>{console.log("click"),U()}},()=>[e(Q,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[r.type==="content"&&r.header?e("div",{class:"content-header"},r.header):null,e("div",C(r))]),e("button",{class:"search-pro-close-icon",onClick:X=>{X.preventDefault(),X.stopPropagation(),m(u)}},e(F))]))])):l.value.emptyHistory:M.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:r,contents:u},X)=>{const L=o.value===X;return e("li",{class:["search-pro-result-list-item",{active:L}]},[e("div",{class:"search-pro-result-title"},r||"Documentation"),u.map((y,T)=>{const Z=L&&n.value===T;return e(g,{to:y.path,class:["search-pro-result-item",{active:Z,"aria-selected":Z}],onClick:()=>{v(y),U()}},()=>[y.type==="content"?null:e(y.type==="title"?q:y.type==="heading"?R:G,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[y.type==="content"&&y.header?e("div",{class:"content-header"},y.header):null,e("div",C(y))])])})])})):l.value.emptyResult)}});export{fe as default};
