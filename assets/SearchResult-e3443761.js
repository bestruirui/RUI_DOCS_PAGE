import{u as k,a as A,M as O,b as X,d as z,e as Z,f as H,L as N,g as Y}from"./app-8782bdbe.js";import{r as f,h as C,c as $,y as _,U as ee,Y as te,o as ae,z as se,j as e,Z as J,w as le}from"./framework-e618a78f.js";const re="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";const E=()=>e(H,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));E.displayName="CloseIcon";const K=()=>e(H,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));K.displayName="HeadingIcon";const P=()=>e(H,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));P.displayName="HeartIcon";const U=()=>e(H,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));U.displayName="HistoryIcon";const b=()=>e(H,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));b.displayName="TitleIcon";const ce={},ne=300,S=5,oe={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ie="search-pro-history-results",I=k(ie,[]),ue=()=>({history:I,addHistory:a=>{I.value.length<S?I.value=[a,...I.value]:I.value=[a,...I.value.slice(0,S-1)]},removeHistory:a=>{I.value=[...I.value.slice(0,a),...I.value.slice(a+1)]}}),ve=f(re),pe=C(()=>JSON.parse(N(ve.value))),M=(a,v)=>{const p=a.toLowerCase(),s=v.toLowerCase(),c=[];let l=0,u=0;const h=(t,d=!1)=>{let r="";u===0?r=t.length>20?`… ${t.slice(-20)}`:t:d?r=t.length+u>100?`${t.slice(0,100-u)}… `:t:r=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,r&&c.push(r),u+=r.length,d||(c.push(["strong",v]),u+=v.length,u>=100&&c.push(" …"))};let y=p.indexOf(s,l);if(y===-1)return null;for(;y>=0;){const t=y+s.length;if(h(a.slice(l,y)),l=t,u>100)break;y=p.indexOf(s,l)}return u<100&&h(a.slice(l),!0),c},V=a=>a.reduce((v,{type:p})=>v+(p==="title"?50:p==="heading"?20:p==="custom"?10:1),0),he=(a,v)=>{var p;const s={};for(const[c,l]of Object.entries(v)){const u=((p=v[c.replace(/\/[^\\]*$/,"")])==null?void 0:p.title)||"",h=`${u?`${u} > `:""}${l.title}`,y=M(l.title,a);y&&(s[h]=[...s[h]||[],{type:"title",path:c,display:y}]),l.customFields&&Object.entries(l.customFields).forEach(([t,d])=>{d.forEach(r=>{const n=M(r,a);n&&(s[h]=[...s[h]||[],{type:"custom",path:c,index:t,display:n}])})});for(const t of l.contents){const d=M(t.header,a);d&&(s[h]=[...s[h]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:d}]);for(const r of t.contents){const n=M(r,a);n&&(s[h]=[...s[h]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:n}])}}}return Object.keys(s).sort((c,l)=>V(s[c])-V(s[l])).map(c=>({title:c,contents:s[c]}))},de=a=>{const v=A(),p=f([]),s=C(()=>pe.value[v.value]),c=Y(l=>{p.value=l?he(l,s.value):[]},ne);return le([a,v],()=>{c(a.value)}),p};var Ie=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:v}){const p=_(),s=ee(),c=A(),l=O(oe),{history:u,addHistory:h,removeHistory:y}=ue(),t=te(a,"query"),d=de(t),r=f(0),n=f(0),G=f(),R=C(()=>d.value.length>0),g=C(()=>d.value[r.value]||null),D=()=>{r.value=r.value>0?r.value-1:d.value.length-1,n.value=g.value.contents.length-1},Q=()=>{r.value=r.value<d.value.length-1?r.value+1:0,n.value=0},w=()=>{n.value<g.value.contents.length-1?n.value=n.value+1:Q()},W=()=>{n.value>0?n.value=n.value-1:D()},L=o=>o.map(i=>typeof i=="string"?i:e(i[0],i[1])),q=o=>{if(o.type==="custom"){const i=ce[o.index]||"$content",[T,B=""]=typeof i=="object"?i[c.value].split("$content"):i.split("$content");return L([T,...o.display,B])}return L(o.display)},F=()=>{r.value=0,n.value=0,v("updateQuery",""),v("close")};return ae(()=>{X("keydown",o=>{if(R.value){if(o.key==="ArrowUp")W();else if(o.key==="ArrowDown")w();else if(o.key==="Enter"){const i=g.value.contents[n.value];s.path!==i.path&&(h(i),p.push(i.path),F())}}}),z(G.value,{reserveScrollBarGap:!0})}),se(()=>{Z()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?u.value.length===0:!R.value}],ref:G},t.value===""?u.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),u.value.map((o,i)=>e(J,{to:o.path,class:["search-pro-result-item",{active:n.value===i}],onClick:()=>{console.log("click"),F()}},()=>[e(U,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[o.type==="content"&&o.header?e("div",{class:"content-header"},o.header):null,e("div",q(o))]),e("button",{class:"search-pro-close-icon",onClick:T=>{T.preventDefault(),T.stopPropagation(),y(i)}},e(E))]))])):l.value.emptyHistory:R.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:o,contents:i},T)=>{const B=r.value===T;return e("li",{class:["search-pro-result-list-item",{active:B}]},[e("div",{class:"search-pro-result-title"},o||"Documentation"),i.map((m,j)=>{const x=B&&n.value===j;return e(J,{to:m.path,class:["search-pro-result-item",{active:x,"aria-selected":x}],onClick:()=>{h(m),F()}},()=>[m.type==="content"?null:e(m.type==="title"?b:m.type==="heading"?K:P,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",q(m))])])})])})):l.value.emptyResult)}});export{Ie as default};
