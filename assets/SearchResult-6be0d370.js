import{u as G,a as T,M as K,b as W,d as E,e as O,f as y,L as D,g as Z}from"./app-0b6a0099.js";import{r as x,h as R,c as $,y as _,U as ee,Y as te,o as ae,z as se,j as e,Z as F,w as le}from"./framework-e618a78f.js";const oe="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";const X=()=>e(y,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));X.displayName="CloseIcon";const b=()=>e(y,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));b.displayName="HeadingIcon";const j=()=>e(y,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));j.displayName="HeartIcon";const B=()=>e(y,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));B.displayName="HistoryIcon";const w=()=>e(y,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));w.displayName="TitleIcon";const ce={},re=300,z=5,ne={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ie="search-pro-history-results",g=G(ie,[]),ue=()=>({history:g,addHistory:a=>{g.value.length<z?g.value=[a,...g.value]:g.value=[a,...g.value.slice(0,z-1)]},removeHistory:a=>{g.value=[...g.value.slice(0,a),...g.value.slice(a+1)]}}),pe=x(oe),ve=R(()=>JSON.parse(D(pe.value))),Y=(a,p)=>{const v=a.toLowerCase(),s=p.toLowerCase(),c=[];let l=0,u=0;const d=(t,h=!1)=>{let o="";u===0?o=t.length>20?`… ${t.slice(-20)}`:t:h?o=t.length+u>100?`${t.slice(0,100-u)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),u+=o.length,h||(c.push(["strong",p]),u+=p.length,u>=100&&c.push(" …"))};let m=v.indexOf(s,l);if(m===-1)return null;for(;m>=0;){const t=m+s.length;if(d(a.slice(l,m)),l=t,u>100)break;m=v.indexOf(s,l)}return u<100&&d(a.slice(l),!0),c},H=a=>a.reduce((p,{type:v})=>p+(v==="title"?50:v==="heading"?20:v==="custom"?10:1),0),de=(a,p)=>{var v;const s={};for(const[c,l]of Object.entries(p)){const u=((v=p[c.replace(/\/[^\\]*$/,"")])==null?void 0:v.title)||"",d=`${u?`${u} > `:""}${l.title}`,m=Y(l.title,a);m&&(s[d]=[...s[d]||[],{type:"title",path:c,display:m}]),l.customFields&&Object.entries(l.customFields).forEach(([t,h])=>{h.forEach(o=>{const r=Y(o,a);r&&(s[d]=[...s[d]||[],{type:"custom",path:c,index:t,display:r}])})});for(const t of l.contents){const h=Y(t.header,a);h&&(s[d]=[...s[d]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:h}]);for(const o of t.contents){const r=Y(o,a);r&&(s[d]=[...s[d]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:r}])}}}return Object.keys(s).sort((c,l)=>H(s[c])-H(s[l])).map(c=>({title:c,contents:s[c]}))},he=a=>{const p=T(),v=x([]),s=R(()=>ve.value[p.value]),c=Z(l=>{v.value=l?de(l,s.value):[]},re);return le([a,p],()=>{c(a.value)}),v};var ge=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:p}){const v=_(),s=ee(),c=T(),l=K(ne),{history:u,addHistory:d,removeHistory:m}=ue(),t=te(a,"query"),h=he(t),o=x(0),r=x(0),V=x(),C=R(()=>h.value.length>0),A=R(()=>h.value[o.value]||null),L=()=>{o.value=o.value>0?o.value-1:h.value.length-1,r.value=A.value.contents.length-1},U=()=>{o.value=o.value<h.value.length-1?o.value+1:0,r.value=0},J=()=>{r.value<A.value.contents.length-1?r.value=r.value+1:U()},I=()=>{r.value>0?r.value=r.value-1:L()},q=n=>n.map(i=>typeof i=="string"?i:e(i[0],i[1])),P=n=>{if(n.type==="custom"){const i=ce[n.index]||"$content",[k,N=""]=typeof i=="object"?i[c.value].split("$content"):i.split("$content");return q([k,...n.display,N])}return q(n.display)},M=()=>{o.value=0,r.value=0,p("updateQuery",""),p("close")};return ae(()=>{W("keydown",n=>{if(C.value){if(n.key==="ArrowUp")I();else if(n.key==="ArrowDown")J();else if(n.key==="Enter"){const i=A.value.contents[r.value];s.path!==i.path&&(d(i),v.push(i.path),M())}}}),E(V.value,{reserveScrollBarGap:!0})}),se(()=>{O()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?u.value.length===0:!C.value}],ref:V},t.value===""?u.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),u.value.map((n,i)=>e(F,{to:n.path,class:["search-pro-result-item",{active:r.value===i}],onClick:()=>{console.log("click"),M()}},()=>[e(B,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[n.type==="content"&&n.header?e("div",{class:"content-header"},n.header):null,e("div",P(n))]),e("button",{class:"search-pro-close-icon",onClick:k=>{k.preventDefault(),k.stopPropagation(),m(i)}},e(X))]))])):l.value.emptyHistory:C.value?e("ul",{class:"search-pro-result-list"},h.value.map(({title:n,contents:i},k)=>{const N=o.value===k;return e("li",{class:["search-pro-result-list-item",{active:N}]},[e("div",{class:"search-pro-result-title"},n||"Documentation"),i.map((f,S)=>{const Q=N&&r.value===S;return e(F,{to:f.path,class:["search-pro-result-item",{active:Q,"aria-selected":Q}],onClick:()=>{d(f),M()}},()=>[f.type==="content"?null:e(f.type==="title"?w:f.type==="heading"?b:j,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[f.type==="content"&&f.header?e("div",{class:"content-header"},f.header):null,e("div",P(f))])])})])})):l.value.emptyResult)}});export{ge as default};
