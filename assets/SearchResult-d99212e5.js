import{u as U,a as Q,M as B,b as I,d as A,e as q,f as H,L as V,g as G}from"./app-8a488dc3.js";import{r as C,h as x,c as $,y as _,U as ee,Y as te,o as ae,z as se,j as e,Z as T,w as le}from"./framework-e618a78f.js";const oe="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";const K=()=>e(H,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));K.displayName="CloseIcon";const S=()=>e(H,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));S.displayName="HeadingIcon";const j=()=>e(H,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));j.displayName="HeartIcon";const D=()=>e(H,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));D.displayName="HistoryIcon";const F=()=>e(H,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));F.displayName="TitleIcon";const ce={},re=300,b=5,ne={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ue="search-pro-history-results",f=U(ue,[]),ie=()=>({history:f,addHistory:a=>{f.value.length<b?f.value=[a,...f.value]:f.value=[a,...f.value.slice(0,b-1)]},removeHistory:a=>{f.value=[...f.value.slice(0,a),...f.value.slice(a+1)]}}),pe=C(oe),ve=x(()=>JSON.parse(V(pe.value))),R=(a,p)=>{const v=a.toLowerCase(),s=p.toLowerCase(),c=[];let l=0,i=0;const h=(t,m=!1)=>{let o="";i===0?o=t.length>20?`… ${t.slice(-20)}`:t:m?o=t.length+i>100?`${t.slice(0,100-i)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&c.push(o),i+=o.length,m||(c.push(["strong",p]),i+=p.length,i>=100&&c.push(" …"))};let d=v.indexOf(s,l);if(d===-1)return null;for(;d>=0;){const t=d+s.length;if(h(a.slice(l,d)),l=t,i>100)break;d=v.indexOf(s,l)}return i<100&&h(a.slice(l),!0),c},O=a=>a.reduce((p,{type:v})=>p+(v==="title"?50:v==="heading"?20:v==="custom"?10:1),0),he=(a,p)=>{var v;const s={};for(const[c,l]of Object.entries(p)){const i=((v=p[c.replace(/\/[^\\]*$/,"")])==null?void 0:v.title)||"",h=`${i?`${i} > `:""}${l.title}`,d=R(l.title,a);d&&(s[h]=[...s[h]||[],{type:"title",path:c,display:d}]),l.customFields&&Object.entries(l.customFields).forEach(([t,m])=>{m.forEach(o=>{const r=R(o,a);r&&(s[h]=[...s[h]||[],{type:"custom",path:c,index:t,display:r}])})});for(const t of l.contents){const m=R(t.header,a);m&&(s[h]=[...s[h]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:m}]);for(const o of t.contents){const r=R(o,a);r&&(s[h]=[...s[h]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:r}])}}}return Object.keys(s).sort((c,l)=>O(s[c])-O(s[l])).map(c=>({title:c,contents:s[c]}))},me=a=>{const p=Q(),v=C([]),s=x(()=>ve.value[p.value]),c=G(l=>{v.value=l?he(l,s.value):[]},re);return le([a,p],()=>{c(a.value)}),v};var fe=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:p}){const v=_(),s=ee(),c=Q(),l=B(ne),{history:i,addHistory:h,removeHistory:d}=ie(),t=te(a,"query"),m=me(t),o=C(0),r=C(0),X=C(),w=x(()=>m.value.length>0),L=x(()=>m.value[o.value]||null),E=()=>{o.value=o.value>0?o.value-1:m.value.length-1,r.value=L.value.contents.length-1},Y=()=>{o.value=o.value<m.value.length-1?o.value+1:0,r.value=0},Z=()=>{r.value<L.value.contents.length-1?r.value=r.value+1:Y()},J=()=>{r.value>0?r.value=r.value-1:E()},N=n=>n.map(u=>typeof u=="string"?u:e(u[0],u[1])),P=n=>{if(n.type==="custom"){const u=ce[n.index]||"$content",[g,k=""]=typeof u=="object"?u[c.value].split("$content"):u.split("$content");return N([g,...n.display,k])}return N(n.display)},W=()=>{o.value=0,r.value=0,p("updateQuery",""),p("close")};return ae(()=>{I("keydown",n=>{if(w.value){if(n.key==="ArrowUp")J();else if(n.key==="ArrowDown")Z();else if(n.key==="Enter"){const u=L.value.contents[r.value];s.path!==u.path&&(h(u),v.push(u.path),W())}}}),A(X.value,{reserveScrollBarGap:!0})}),se(()=>{q()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!w.value}],ref:X},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},l.value.history),i.value.map((n,u)=>e(T,{to:n.path,class:["search-pro-result-item",{active:r.value===u}],onClick:()=>{console.log("click"),W()}},()=>[e(D,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[n.type==="content"&&n.header?e("div",{class:"content-header"},n.header):null,e("div",P(n))]),e("button",{class:"search-pro-close-icon",onClick:g=>{g.preventDefault(),g.stopPropagation(),d(u)}},e(K))]))])):l.value.emptyHistory:w.value?e("ul",{class:"search-pro-result-list"},m.value.map(({title:n,contents:u},g)=>{const k=o.value===g;return e("li",{class:["search-pro-result-list-item",{active:k}]},[e("div",{class:"search-pro-result-title"},n||"Documentation"),u.map((y,M)=>{const z=k&&r.value===M;return e(T,{to:y.path,class:["search-pro-result-item",{active:z,"aria-selected":z}],onClick:()=>{h(y),W()}},()=>[y.type==="content"?null:e(y.type==="title"?F:y.type==="heading"?S:j,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[y.type==="content"&&y.header?e("div",{class:"content-header"},y.header):null,e("div",P(y))])])})])})):l.value.emptyResult)}});export{fe as default};
