import{u as w,a as N,M as J,b as U,d as Z,e as Q,f,L as E,g as Y}from"./app-0256e435.js";import{r as z,h as x,c as $,y as _,U as ee,Y as te,o as ae,z as le,j as e,Z as T,w as se}from"./framework-e618a78f.js";const ne="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";const R=()=>e(f,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));R.displayName="CloseIcon";const A=()=>e(f,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));A.displayName="HeadingIcon";const W=()=>e(f,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));W.displayName="HeartIcon";const P=()=>e(f,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));P.displayName="HistoryIcon";const j=()=>e(f,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));j.displayName="TitleIcon";const ce={},oe=300,C=5,re={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ie="search-pro-history-results",g=w(ie,[]),ue=()=>({history:g,addHistory:a=>{g.value.length<C?g.value=[a,...g.value]:g.value=[a,...g.value.slice(0,C-1)]},removeHistory:a=>{g.value=[...g.value.slice(0,a),...g.value.slice(a+1)]}}),ve=z(ne),pe=x(()=>JSON.parse(E(ve.value))),L=(a,v)=>{const p=a.toLowerCase(),l=v.toLowerCase(),c=[];let s=0,u=0;const h=(t,d=!1)=>{let n="";u===0?n=t.length>20?`… ${t.slice(-20)}`:t:d?n=t.length+u>100?`${t.slice(0,100-u)}… `:t:n=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,n&&c.push(n),u+=n.length,d||(c.push(["strong",v]),u+=v.length,u>=100&&c.push(" …"))};let m=p.indexOf(l,s);if(m===-1)return null;for(;m>=0;){const t=m+l.length;if(h(a.slice(s,m)),s=t,u>100)break;m=p.indexOf(l,s)}return u<100&&h(a.slice(s),!0),c},X=a=>a.reduce((v,{type:p})=>v+(p==="title"?50:p==="heading"?20:p==="custom"?10:1),0),he=(a,v)=>{var p;const l={};for(const[c,s]of Object.entries(v)){const u=((p=v[c.replace(/\/[^\\]*$/,"")])==null?void 0:p.title)||"",h=`${u?`${u} > `:""}${s.title}`,m=L(s.title,a);m&&(l[h]=[...l[h]||[],{type:"title",path:c,display:m}]),s.customFields&&Object.entries(s.customFields).forEach(([t,d])=>{d.forEach(n=>{const o=L(n,a);o&&(l[h]=[...l[h]||[],{type:"custom",path:c,index:t,display:o}])})});for(const t of s.contents){const d=L(t.header,a);d&&(l[h]=[...l[h]||[],{type:"heading",path:c+(t.slug?`#${t.slug}`:""),display:d}]);for(const n of t.contents){const o=L(n,a);o&&(l[h]=[...l[h]||[],{type:"content",header:t.header,path:c+(t.slug?`#${t.slug}`:""),display:o}])}}}return Object.keys(l).sort((c,s)=>X(l[c])-X(l[s])).map(c=>({title:c,contents:l[c]}))},de=a=>{const v=N(),p=z([]),l=x(()=>pe.value[v.value]),c=Y(s=>{p.value=s?he(s,l.value):[]},oe);return se([a,v],()=>{c(a.value)}),p};var ge=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:v}){const p=_(),l=ee(),c=N(),s=J(re),{history:u,addHistory:h,removeHistory:m}=ue(),t=te(a,"query"),d=de(t),n=z(0),o=z(0),k=z(),F=x(()=>d.value.length>0),G=x(()=>d.value[n.value]||null),D=()=>{n.value=n.value>0?n.value-1:d.value.length-1,o.value=G.value.contents.length-1},q=()=>{n.value=n.value<d.value.length-1?n.value+1:0,o.value=0},K=()=>{o.value<G.value.contents.length-1?o.value=o.value+1:q()},O=()=>{o.value>0?o.value=o.value-1:D()},M=r=>r.map(i=>typeof i=="string"?i:e(i[0],i[1])),S=r=>{if(r.type==="custom"){const i=ce[r.index]||"$content",[b,I=""]=typeof i=="object"?i[c.value].split("$content"):i.split("$content");return M([b,...r.display,I])}return M(r.display)},H=()=>{n.value=0,o.value=0,v("updateQuery",""),v("close")};return ae(()=>{U("keydown",r=>{if(F.value){if(r.key==="ArrowUp")O();else if(r.key==="ArrowDown")K();else if(r.key==="Enter"){const i=G.value.contents[o.value];l.path!==i.path&&(h(i),p.push(i.path),H())}}}),Z(k.value,{reserveScrollBarGap:!0})}),le(()=>{Q()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?u.value.length===0:!F.value}],ref:k},t.value===""?u.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},s.value.history),u.value.map((r,i)=>e(T,{to:r.path,class:["search-pro-result-item",{active:o.value===i}],onClick:()=>{console.log("click"),H()}},()=>[e(P,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[r.type==="content"&&r.header?e("div",{class:"content-header"},r.header):null,e("div",S(r))]),e("button",{class:"search-pro-close-icon",onClick:b=>{b.preventDefault(),b.stopPropagation(),m(i)}},e(R))]))])):s.value.emptyHistory:F.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:r,contents:i},b)=>{const I=n.value===b;return e("li",{class:["search-pro-result-list-item",{active:I}]},[e("div",{class:"search-pro-result-title"},r||"Documentation"),i.map((y,V)=>{const B=I&&o.value===V;return e(T,{to:y.path,class:["search-pro-result-item",{active:B,"aria-selected":B}],onClick:()=>{h(y),H()}},()=>[y.type==="content"?null:e(y.type==="title"?j:y.type==="heading"?A:W,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[y.type==="content"&&y.header?e("div",{class:"content-header"},y.header):null,e("div",S(y))])])})])})):s.value.emptyResult)}});export{ge as default};
