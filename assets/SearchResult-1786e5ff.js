import{u as w,a as X,M as z,b as Z,d as q,e as J,f as R,L as B,g as G}from"./app-3f652bab.js";import{r as b,h as A,c as $,y as _,U as ee,Y as te,o as se,z as le,j as e,Z as k,w as ae}from"./framework-e618a78f.js";const oe="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";const C=()=>e(R,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));C.displayName="CloseIcon";const H=()=>e(R,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));H.displayName="HeadingIcon";const M=()=>e(R,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));M.displayName="HeartIcon";const V=()=>e(R,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));V.displayName="HistoryIcon";const D=()=>e(R,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));D.displayName="TitleIcon";const re={},ce=300,O=5,ne={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ie="search-pro-history-results",f=w(ie,[]),ue=()=>({history:f,addHistory:s=>{f.value.length<O?f.value=[s,...f.value]:f.value=[s,...f.value.slice(0,O-1)]},removeHistory:s=>{f.value=[...f.value.slice(0,s),...f.value.slice(s+1)]}}),he=b(oe),pe=A(()=>JSON.parse(B(he.value))),L=(s,h)=>{const p=s.toLowerCase(),l=h.toLowerCase(),r=[];let a=0,u=0;const d=(t,y=!1)=>{let o="";u===0?o=t.length>20?`… ${t.slice(-20)}`:t:y?o=t.length+u>100?`${t.slice(0,100-u)}… `:t:o=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,o&&r.push(o),u+=o.length,y||(r.push(["strong",h]),u+=h.length,u>=100&&r.push(" …"))};let v=p.indexOf(l,a);if(v===-1)return null;for(;v>=0;){const t=v+l.length;if(d(s.slice(a,v)),a=t,u>100)break;v=p.indexOf(l,a)}return u<100&&d(s.slice(a),!0),r},j=s=>s.reduce((h,{type:p})=>h+(p==="title"?50:p==="heading"?20:p==="custom"?10:1),0),de=(s,h)=>{var p;const l={};for(const[r,a]of Object.entries(h)){const u=((p=h[r.replace(/\/[^\\]*$/,"")])==null?void 0:p.title)||"",d=`${u?`${u} > `:""}${a.title}`,v=L(a.title,s);v&&(l[d]=[...l[d]||[],{type:"title",path:r,display:v}]),a.customFields&&Object.entries(a.customFields).forEach(([t,y])=>{y.forEach(o=>{const c=L(o,s);c&&(l[d]=[...l[d]||[],{type:"custom",path:r,index:t,display:c}])})});for(const t of a.contents){const y=L(t.header,s);y&&(l[d]=[...l[d]||[],{type:"heading",path:r+(t.slug?`#${t.slug}`:""),display:y}]);for(const o of t.contents){const c=L(o,s);c&&(l[d]=[...l[d]||[],{type:"content",header:t.header,path:r+(t.slug?`#${t.slug}`:""),display:c}])}}}return Object.keys(l).sort((r,a)=>j(l[r])-j(l[a])).map(r=>({title:r,contents:l[r]}))},ye=s=>{const h=X(),p=b([]),l=A(()=>pe.value[h.value]),r=G(a=>{p.value=a?de(a,l.value):[]},ce);return ae([s,h],()=>{r(s.value)}),p};var fe=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:s=>!0},setup(s,{emit:h}){const p=_(),l=ee(),r=X(),a=z(ne),{history:u,addHistory:d,removeHistory:v}=ue(),t=te(s,"query"),y=ye(t),o=b(0),c=b(0),U=b(),g=A(()=>y.value.length>0),x=A(()=>y.value[o.value]||null),P=()=>{o.value=o.value>0?o.value-1:y.value.length-1,c.value=x.value.contents.length-1},T=()=>{o.value=o.value<y.value.length-1?o.value+1:0,c.value=0},Y=()=>{c.value<x.value.contents.length-1?c.value=c.value+1:T()},Q=()=>{c.value>0?c.value=c.value-1:P()},K=n=>n.map(i=>typeof i=="string"?i:e(i[0],i[1])),N=n=>{if(n.type==="custom"){const i=re[n.index]||"$content",[S,I=""]=typeof i=="object"?i[r.value].split("$content"):i.split("$content");return K([S,...n.display,I])}return K(n.display)},F=()=>{o.value=0,c.value=0,h("updateQuery",""),h("close")};return se(()=>{Z("keydown",n=>{if(g.value){if(n.key==="ArrowUp")Q();else if(n.key==="ArrowDown")Y();else if(n.key==="Enter"){const i=x.value.contents[c.value];l.path!==i.path&&(d(i),p.push(i.path),F())}}}),q(U.value,{reserveScrollBarGap:!0})}),le(()=>{J()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?u.value.length===0:!g.value}],ref:U},t.value===""?u.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},a.value.history),u.value.map((n,i)=>e(k,{to:n.path,class:["search-pro-result-item",{active:c.value===i}],onClick:()=>{console.log("click"),F()}},()=>[e(V,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[n.type==="content"&&n.header?e("div",{class:"content-header"},n.header):null,e("div",N(n))]),e("button",{class:"search-pro-close-icon",onClick:S=>{S.preventDefault(),S.stopPropagation(),v(i)}},e(C))]))])):a.value.emptyHistory:g.value?e("ul",{class:"search-pro-result-list"},y.value.map(({title:n,contents:i},S)=>{const I=o.value===S;return e("li",{class:["search-pro-result-list-item",{active:I}]},[e("div",{class:"search-pro-result-title"},n||"Documentation"),i.map((m,W)=>{const E=I&&c.value===W;return e(k,{to:m.path,class:["search-pro-result-item",{active:E,"aria-selected":E}],onClick:()=>{d(m),F()}},()=>[m.type==="content"?null:e(m.type==="title"?D:m.type==="heading"?H:M,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",N(m))])])})])})):a.value.emptyResult)}});export{fe as default};
