import{u as J,a as S,M as W,b as N,d as Y,e as E,f as M,L as V,g as O}from"./app-b3bb81fc.js";import{r as I,h as Q,c as $,y as _,U as ee,Y as te,o as ae,z as le,j as e,Z,w as se}from"./framework-e618a78f.js";const ne="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";const B=()=>e(M,{name:"close"},()=>e("path",{d:"m925.468 822.294-303.27-310.288L925.51 201.674c34.683-27.842 38.3-75.802 8.122-107.217-30.135-31.37-82.733-34.259-117.408-6.463L512.001 399.257 207.777 87.993C173.1 60.197 120.504 63.087 90.369 94.456c-30.179 31.415-26.561 79.376 8.122 107.217L401.8 512.005l-303.27 310.29c-34.724 27.82-38.34 75.846-8.117 107.194 30.135 31.437 82.729 34.327 117.408 6.486L512 624.756l304.177 311.22c34.68 27.84 87.272 24.95 117.408-6.487 30.223-31.348 26.56-79.375-8.118-107.195z"}));B.displayName="CloseIcon";const j=()=>e(M,{name:"heading"},()=>e("path",{d:"M250.4 704.6H64V595.4h202.4l26.2-166.6H94V319.6h214.4L352 64h127.8l-43.6 255.4h211.2L691 64h126.2l-43.6 255.4H960v109.2H756.2l-24.6 166.6H930v109.2H717L672 960H545.8l43.6-255.4H376.6L333 960H206.8l43.6-255.4zm168.4-276L394 595.4h211.2l24.6-166.6h-211z"}));j.displayName="HeadingIcon";const q=()=>e(M,{name:"heart"},()=>e("path",{d:"M1024 358.156C1024 195.698 892.3 64 729.844 64c-86.362 0-164.03 37.218-217.844 96.49C458.186 101.218 380.518 64 294.156 64 131.698 64 0 195.698 0 358.156 0 444.518 37.218 522.186 96.49 576H96l320 320c32 32 64 64 96 64s64-32 96-64l320-320h-.49c59.272-53.814 96.49-131.482 96.49-217.844zM841.468 481.232 517.49 805.49a2981.962 2981.962 0 0 1-5.49 5.48c-1.96-1.95-3.814-3.802-5.49-5.48L182.532 481.234C147.366 449.306 128 405.596 128 358.156 128 266.538 202.538 192 294.156 192c47.44 0 91.15 19.366 123.076 54.532L512 350.912l94.768-104.378C638.696 211.366 682.404 192 729.844 192 821.462 192 896 266.538 896 358.156c0 47.44-19.368 91.15-54.532 123.076z"}));q.displayName="HeartIcon";const C=()=>e(M,{name:"history"},()=>e("path",{d:"M512 1024a512 512 0 1 1 512-512 512 512 0 0 1-512 512zm0-896a384 384 0 1 0 384 384 384 384 0 0 0-384-384zm192 448H512a64 64 0 0 1-64-64V320a64 64 0 0 1 128 0v128h128a64 64 0 0 1 0 128z"}));C.displayName="HistoryIcon";const G=()=>e(M,{name:"title"},()=>e("path",{d:"M512 256c70.656 0 134.656 28.672 180.992 75.008A254.933 254.933 0 0 1 768 512c0 83.968-41.024 157.888-103.488 204.48C688.96 748.736 704 788.48 704 832c0 105.984-86.016 192-192 192-106.048 0-192-86.016-192-192h128a64 64 0 1 0 128 0 64 64 0 0 0-64-64 255.19 255.19 0 0 1-181.056-75.008A255.403 255.403 0 0 1 256 512c0-83.968 41.024-157.824 103.488-204.544C335.04 275.264 320 235.584 320 192A192 192 0 0 1 512 0c105.984 0 192 85.952 192 192H576a64.021 64.021 0 0 0-128 0c0 35.328 28.672 64 64 64zM384 512c0 70.656 57.344 128 128 128s128-57.344 128-128-57.344-128-128-128-128 57.344-128 128z"}));G.displayName="TitleIcon";const oe={},re=300,A=5,ce={"/":{cancel:"取消",placeholder:"搜索",search:"搜索",select:"选择",navigate:"切换",exit:"关闭",history:"搜索历史",emptyHistory:"无搜索历史",emptyResult:"没有找到结果",loading:"正在加载搜索索引..."}},ue="search-pro-history-results",y=J(ue,[]),ie=()=>({history:y,addHistory:a=>{y.value.length<A?y.value=[a,...y.value]:y.value=[a,...y.value.slice(0,A-1)]},removeHistory:a=>{y.value=[...y.value.slice(0,a),...y.value.slice(a+1)]}}),pe=I(ne),ve=Q(()=>JSON.parse(V(pe.value))),g=(a,p)=>{const v=a.toLowerCase(),l=p.toLowerCase(),o=[];let s=0,i=0;const h=(t,d=!1)=>{let n="";i===0?n=t.length>20?`… ${t.slice(-20)}`:t:d?n=t.length+i>100?`${t.slice(0,100-i)}… `:t:n=t.length>20?`${t.slice(0,20)} … ${t.slice(-20)}`:t,n&&o.push(n),i+=n.length,d||(o.push(["strong",p]),i+=p.length,i>=100&&o.push(" …"))};let f=v.indexOf(l,s);if(f===-1)return null;for(;f>=0;){const t=f+l.length;if(h(a.slice(s,f)),s=t,i>100)break;f=v.indexOf(l,s)}return i<100&&h(a.slice(s),!0),o},x=a=>a.reduce((p,{type:v})=>p+(v==="title"?50:v==="heading"?20:v==="custom"?10:1),0),he=(a,p)=>{var v;const l={};for(const[o,s]of Object.entries(p)){const i=((v=p[o.replace(/\/[^\\]*$/,"")])==null?void 0:v.title)||"",h=`${i?`${i} > `:""}${s.title}`,f=g(s.title,a);f&&(l[h]=[...l[h]||[],{type:"title",path:o,display:f}]),s.customFields&&Object.entries(s.customFields).forEach(([t,d])=>{d.forEach(n=>{const r=g(n,a);r&&(l[h]=[...l[h]||[],{type:"custom",path:o,index:t,display:r}])})});for(const t of s.contents){const d=g(t.header,a);d&&(l[h]=[...l[h]||[],{type:"heading",path:o+(t.slug?`#${t.slug}`:""),display:d}]);for(const n of t.contents){const r=g(n,a);r&&(l[h]=[...l[h]||[],{type:"content",header:t.header,path:o+(t.slug?`#${t.slug}`:""),display:r}])}}}return Object.keys(l).sort((o,s)=>x(l[o])-x(l[s])).map(o=>({title:o,contents:l[o]}))},de=a=>{const p=S(),v=I([]),l=Q(()=>ve.value[p.value]),o=O(s=>{v.value=s?he(s,l.value):[]},re);return se([a,p],()=>{o(a.value)}),v};var ye=$({name:"SearchResult",props:{query:{type:String,required:!0}},emits:{close:()=>!0,updateQuery:a=>!0},setup(a,{emit:p}){const v=_(),l=ee(),o=S(),s=W(ce),{history:i,addHistory:h,removeHistory:f}=ie(),t=te(a,"query"),d=de(t),n=I(0),r=I(0),H=I(),X=Q(()=>d.value.length>0),k=Q(()=>d.value[n.value]||null),K=()=>{n.value=n.value>0?n.value-1:d.value.length-1,r.value=k.value.contents.length-1},P=()=>{n.value=n.value<d.value.length-1?n.value+1:0,r.value=0},U=()=>{r.value<k.value.contents.length-1?r.value=r.value+1:P()},D=()=>{r.value>0?r.value=r.value-1:K()},L=c=>c.map(u=>typeof u=="string"?u:e(u[0],u[1])),z=c=>{if(c.type==="custom"){const u=oe[c.index]||"$content",[b,R=""]=typeof u=="object"?u[o.value].split("$content"):u.split("$content");return L([b,...c.display,R])}return L(c.display)},w=()=>{n.value=0,r.value=0,p("updateQuery",""),p("close")};return ae(()=>{N("keydown",c=>{if(X.value){if(c.key==="ArrowUp")D();else if(c.key==="ArrowDown")U();else if(c.key==="Enter"){const u=k.value.contents[r.value];l.path!==u.path&&(h(u),v.push(u.path),w())}}}),Y(H.value,{reserveScrollBarGap:!0})}),le(()=>{E()}),()=>e("div",{class:["search-pro-result",{empty:t.value===""?i.value.length===0:!X.value}],ref:H},t.value===""?i.value.length?e("ul",{class:"search-pro-result-list"},e("li",{class:"search-pro-result-list-item"},[e("div",{class:"search-pro-result-title"},s.value.history),i.value.map((c,u)=>e(Z,{to:c.path,class:["search-pro-result-item",{active:r.value===u}],onClick:()=>{console.log("click"),w()}},()=>[e(C,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[c.type==="content"&&c.header?e("div",{class:"content-header"},c.header):null,e("div",z(c))]),e("button",{class:"search-pro-close-icon",onClick:b=>{b.preventDefault(),b.stopPropagation(),f(u)}},e(B))]))])):s.value.emptyHistory:X.value?e("ul",{class:"search-pro-result-list"},d.value.map(({title:c,contents:u},b)=>{const R=n.value===b;return e("li",{class:["search-pro-result-list-item",{active:R}]},[e("div",{class:"search-pro-result-title"},c||"Documentation"),u.map((m,T)=>{const F=R&&r.value===T;return e(Z,{to:m.path,class:["search-pro-result-item",{active:F,"aria-selected":F}],onClick:()=>{h(m),w()}},()=>[m.type==="content"?null:e(m.type==="title"?G:m.type==="heading"?j:q,{class:"search-pro-result-type"}),e("div",{class:"search-pro-result-content"},[m.type==="content"&&m.header?e("div",{class:"content-header"},m.header):null,e("div",z(m))])])})])})):s.value.emptyResult)}});export{ye as default};
